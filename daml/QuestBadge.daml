cat > daml/QuestBadge.daml <<EOF
daml 1.2

module QuestBadge where

import DA.Time

template Badge
  with
    owner : Party
    discordId : Text
    badgeType : Text
    issuedAt : Time
  where
    signatory owner
    key (discordId, badgeType) : (Text, Text)
    maintainer key._1

    choice Transfer : ContractId Badge
      with
        newOwner : Party
      controller owner
      do
        create this with owner = newOwner
EOF
